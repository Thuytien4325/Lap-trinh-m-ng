<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Chat</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script>
        function openChat(chatName) {
            document.getElementById('chat-header').innerText = chatName;
            document.getElementById('chat-content').innerHTML = `<p>Đây là cuộc trò chuyện về <strong>${chatName}</strong></p>`;
        }

        function addUser() {
            let userName = prompt("Nhập tên người dùng mới:");
            if (userName) {
                let chatList = document.querySelector('.chat-list');
                let newUser = document.createElement('li');
                newUser.className = 'chat-item';
                newUser.innerText = userName;
                newUser.onclick = function() { openChat(userName); };
                chatList.appendChild(newUser);
                updateChatDisplay();
            }
        }

        function addGroupChat() {
            let groupName = prompt("Nhập tên nhóm trò chuyện:");
            if (groupName) {
                let chatList = document.querySelector('.chat-list');
                let newGroup = document.createElement('li');
                newGroup.className = 'chat-item';
                newGroup.innerText = groupName;
                newGroup.onclick = function() { openChat(groupName); };
                chatList.appendChild(newGroup);
                updateChatDisplay();
            }
        }

        function updateChatDisplay() {
            let chatItems = document.querySelectorAll('.chat-item');
            let chatList = document.querySelector('.chat-list');
            chatList.innerHTML = '';
            chatItems.forEach(item => chatList.appendChild(item));
        }

        function uploadAvatar(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('avatar-img').src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        function editProfile() {
            let newBio = prompt("Nhập Bio mới:", document.getElementById('profile-bio').innerText);
            let newEmail = prompt("Nhập Email mới:", document.getElementById('profile-email').innerText);
            let newPhone = prompt("Nhập số điện thoại mới:", document.getElementById('profile-phone').innerText);
            let newBirthDate = prompt("Nhập ngày sinh mới:", document.getElementById('profile-birthdate').innerText);
            
            if (newBio !== null) document.getElementById('profile-bio').innerText = newBio;
            if (newEmail !== null) document.getElementById('profile-email').innerText = newEmail;
            if (newPhone !== null) document.getElementById('profile-phone').innerText = newPhone;
            if (newBirthDate !== null) document.getElementById('profile-birthdate').innerText = newBirthDate;
        }
    </script>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="profile">
                <div class="avatar-wrapper">
                    <img id="avatar-img" src="avatar.jpg" alt="Avatar">
                    <input type="file" accept="image/*" onchange="uploadAvatar(event)" style="display: none;" id="avatar-upload">
                    
                    <!-- Thay ảnh bằng icon máy ảnh -->
                    <i class="fa fa-camera camera-icon" onclick="document.getElementById('avatar-upload').click()"></i>
                </div>
                <h2>Nguyễn Văn A</h2>
                <p>Bio: <span id="profile-bio">u i a i u i a</span></p>
                <p>Ngày sinh: <span id="profile-birthdate">1/1/2000</span></p>
                <p>Điện thoại: <span id="profile-phone">0123456789</span></p>
                <p>Email: <span id="profile-email">vana@gmail.com</span></p>
                
                <!-- Nút chỉnh sửa thông tin với icon -->
                <button onclick="editProfile()">
                    <i class="fa fa-edit"></i> Chỉnh sửa thông tin
                </button>
            </div>
            <input type="text" class="search" placeholder="Tìm kiếm">
            
            <!-- Nút Thêm Người Dùng    -->
            <button onclick="addUser()">
                <i class="fa fa-user-plus"></i> Thêm Người Dùng
            </button>

            <!-- Nút Thêm Nhóm -->
            <button onclick="addGroupChat()">
                <i class="fa fa-users"></i> Thêm Nhóm
            </button>

            <ul class="chat-list">
                <!-- Danh sách cuộc trò chuyện sẽ được thêm vào đây -->
            </ul>
        </aside>
        <main class="chat-window">
            <div id="chat-header" class="chat-header"></div>
            <div id="chat-content" class="chat-content"></div>
            <input type="text" class="chat-input" placeholder="Nhập tin nhắn...">
        </main>
    </div>
</body>
</html>
